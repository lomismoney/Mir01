# åº«å­˜ç®¡ç†ç³»çµ±æŠ€è¡“æ¶æ§‹æ–‡æª”

## ğŸ”¥ æœ€æ–°æ›´æ–°

### 2025-01-12 å•†å“åº«å­˜ç‹€æ…‹åˆ†é¡åŠŸèƒ½
- **å•é¡Œ**ï¼šå•†å“æ¸…å–®çš„åº«å­˜ç‹€æ…‹åªç°¡å–®é¡¯ç¤ºã€Œæœ‰åº«å­˜ã€æˆ–ã€Œç„¡åº«å­˜ã€ï¼Œç„¡æ³•åæ˜ éƒ¨åˆ†è®Šé«”æœ‰åº«å­˜çš„æƒ…æ³
- **è§£æ±ºæ–¹æ¡ˆ**ï¼š
  1. å¯¦ç¾3ç¨®åº«å­˜ç‹€æ…‹åˆ†é¡ï¼š
     - **æœ‰åº«å­˜**ï¼šæ‰€æœ‰è®Šé«”éƒ½æœ‰åº«å­˜ï¼ˆåŒ…æ‹¬å–®ä¸€è¦æ ¼å•†å“ï¼‰
     - **éƒ¨åˆ†åº«å­˜**ï¼šéƒ¨åˆ†è®Šé«”æœ‰åº«å­˜
     - **ç„¡åº«å­˜**ï¼šæ‰€æœ‰è®Šé«”éƒ½æ²’æœ‰åº«å­˜
  2. ä½¿ç”¨ä¸åŒçš„ Badge é¡è‰²å’Œåœ–æ¨™ä¾†å€åˆ†ç‹€æ…‹ï¼š
     - æœ‰åº«å­˜ï¼šç¶ è‰² secondary Badge + CheckCircle åœ–æ¨™
     - éƒ¨åˆ†åº«å­˜ï¼šç°è‰² outline Badge + Package åœ–æ¨™
     - ç„¡åº«å­˜ï¼šç´…è‰² destructive Badge + Box åœ–æ¨™
  3. ç²¾ç¢ºè¨ˆç®—æ¯å€‹è®Šé«”çš„åº«å­˜ç¸½é‡ï¼Œæä¾›æ›´æº–ç¢ºçš„åº«å­˜ç‹€æ…‹åˆ¤æ–·
- **å½±éŸ¿ç¯„åœ**ï¼š
  - `inventory-client/src/components/products/columns.tsx` - ç‹€æ…‹æ¬„ä½é‚è¼¯é‡æ§‹

### 2025-01-12 è¨‚å–®ä»˜æ¬¾åŠŸèƒ½å¢å¼·
- **å•é¡Œ**ï¼šéƒ¨åˆ†ä»˜æ¬¾åŠŸèƒ½å¤ªé‚Šç·£åŒ–ï¼Œåªèƒ½é€šé Modal è¨˜éŒ„ä½†çœ‹ä¸åˆ°æ­·å²
- **è§£æ±ºæ–¹æ¡ˆ**ï¼š
  1. åœ¨è¨‚å–®è©³æƒ…é æ–°å¢ä»˜æ¬¾é€²åº¦å¡ç‰‡ï¼Œé¡¯ç¤ºå·²ä»˜/æœªä»˜é‡‘é¡å’Œè¦–è¦ºåŒ–é€²åº¦æ¢
  2. æ–°å¢ä»˜æ¬¾æ­·å²å¡ç‰‡ï¼Œå±•ç¤ºæ‰€æœ‰ä»˜æ¬¾è¨˜éŒ„ï¼ˆé‡‘é¡ã€æ–¹å¼ã€æ—¥æœŸã€æ“ä½œäººå“¡ï¼‰
  3. æ“´å±• ProcessedOrder é¡å‹å®šç¾©ä»¥æ”¯æ´ payment_records
  4. å¢å¼·å¿«å–åŒæ­¥æ©Ÿåˆ¶ï¼Œç¢ºä¿ä»˜æ¬¾å¾Œç„¡éœ€æ‰‹å‹•åˆ·æ–°é é¢
- **å½±éŸ¿ç¯„åœ**ï¼š
  - `OrderDetailComponent.tsx` - UI æ”¹é€²
  - `api-helpers.ts` - é¡å‹å®šç¾©æ“´å±•
  - `useEntityQueries.ts` - å¿«å–åŒæ­¥å„ªåŒ–

---

## ğŸ“‹ å°ˆæ¡ˆæ¦‚è¿°

æœ¬å°ˆæ¡ˆæ˜¯ä¸€å€‹ç¾ä»£åŒ–çš„åº«å­˜ç®¡ç†ç³»çµ±ï¼Œæ¡ç”¨å‰å¾Œç«¯åˆ†é›¢çš„æ¶æ§‹è¨­è¨ˆï¼Œå°ˆç‚ºä¸­å°ä¼æ¥­åº«å­˜ç®¡ç†éœ€æ±‚è€Œé–‹ç™¼ã€‚ç³»çµ±åŒ…å«å•†å“ç®¡ç†ã€é€²è²¨ç®¡ç†ã€åº«å­˜è¿½è¹¤ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

### æ•´é«”æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HTTP/REST API    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚                 â”‚
â”‚  å‰ç«¯æ‡‰ç”¨ç¨‹å¼    â”‚                     â”‚  å¾Œç«¯APIæœå‹™     â”‚
â”‚  (Next.js 15)   â”‚                     â”‚  (Laravel 12)   â”‚
â”‚                 â”‚                     â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                 â”‚
                                                 â–¼
                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                        â”‚                 â”‚
                                        â”‚  è³‡æ–™åº«å±¤        â”‚
                                        â”‚  (MySQL/SQLite) â”‚
                                        â”‚                 â”‚
                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€è¡“æ¶æ§‹å±¤æ¬¡

- **å±•ç¤ºå±¤ (Presentation Layer)**: Next.js 15 + React 19
- **APIå±¤ (API Layer)**: Laravel 12 RESTful API
- **æ¥­å‹™é‚è¼¯å±¤ (Business Logic Layer)**: Laravel Services + Domain Models
- **è³‡æ–™å­˜å–å±¤ (Data Access Layer)**: Eloquent ORM
- **è³‡æ–™åº«å±¤ (Database Layer)**: MySQL/SQLite

## ğŸš€ æŠ€è¡“æ£§è©³ç´°è³‡è¨Š

### å‰ç«¯æŠ€è¡“æ£§ (inventory-client)

#### æ ¸å¿ƒæ¡†æ¶èˆ‡å‡½å¼åº«
- **Next.js 15.3.3**: React å…¨ç«¯æ¡†æ¶ï¼Œæ”¯æ´ SSR/SSG
- **React 19.0.0**: ä½¿ç”¨è€…ä»‹é¢å‡½å¼åº«
- **TypeScript 5**: é¡å‹å®‰å…¨çš„ JavaScript è¶…é›†

#### UIèˆ‡æ¨£å¼
- **Tailwind CSS 4**: å¯¦ç”¨å„ªå…ˆçš„ CSS æ¡†æ¶
- **shadcn/ui**: é«˜å“è³ªçš„ React å…ƒä»¶åº«
- **Radix UI**: ç„¡éšœç¤™çš„åº•å±¤ UI åŸºç¤å…ƒä»¶
- **Lucide React**: ç¾ä»£åŒ–åœ–ç¤ºåº«
- **Tabler Icons**: è£œå……åœ–ç¤ºåº«
- **Noto Sans TC**: æ€æºé»‘é«”ï¼Œæ”¯æ´ç¹é«”ä¸­æ–‡

#### ç‹€æ…‹ç®¡ç†èˆ‡è³‡æ–™ç²å–
- **TanStack Query v5**: ä¼ºæœå™¨ç‹€æ…‹ç®¡ç†èˆ‡å¿«å–
- **openapi-fetch**: é¡å‹å®‰å…¨çš„ API å®¢æˆ¶ç«¯
- **Zod**: åŸ·è¡Œæ™‚é¡å‹é©—è­‰

#### é€²éšåŠŸèƒ½
- **@dnd-kit**: æ‹–æ”¾åŠŸèƒ½å¯¦ä½œ
- **TanStack Table v8**: é«˜æ•ˆèƒ½è³‡æ–™è¡¨æ ¼
- **Recharts**: è³‡æ–™è¦–è¦ºåŒ–åœ–è¡¨
- **next-themes**: æ·±è‰²/æ·ºè‰²ä¸»é¡Œåˆ‡æ›

#### é–‹ç™¼å·¥å…·
- **ESLint 9**: ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥
- **OpenAPI TypeScript**: è‡ªå‹•ç”Ÿæˆ API é¡å‹å®šç¾©

### å¾Œç«¯æŠ€è¡“æ£§ (inventory-api)

#### æ ¸å¿ƒæ¡†æ¶
- **Laravel 12.0**: PHP å…¨ç«¯æ¡†æ¶
- **PHP 8.2**: ç¾ä»£ PHP ç‰ˆæœ¬

#### è³‡æ–™è™•ç†èˆ‡ API
- **Eloquent ORM**: Laravel çš„æ´»èºè¨˜éŒ„å¯¦ä½œ
- **Laravel Sanctum 4.0**: API èªè­‰
- **Spatie Laravel Data 4.15**: è³‡æ–™å‚³è¼¸ç‰©ä»¶ (DTO)
- **Spatie Query Builder 6.3**: å‹•æ…‹æŸ¥è©¢å»ºæ§‹å™¨

#### æ–‡æª”èˆ‡æ¸¬è©¦
- **Scribe 5.2**: è‡ªå‹•ç”Ÿæˆ API æ–‡æª”
- **PHPUnit 11.5**: å–®å…ƒæ¸¬è©¦æ¡†æ¶

#### æ“´å……åŠŸèƒ½å¥—ä»¶
- **Spatie Laravel Permission 6.19**: è§’è‰²æ¬Šé™ç®¡ç†
- **Spatie Laravel ActivityLog 4.10**: æ´»å‹•æ—¥èªŒè¿½è¹¤
- **Spatie Laravel MediaLibrary 11.13**: åª’é«”æª”æ¡ˆç®¡ç†

#### é–‹ç™¼å·¥å…·
- **Laravel Pint**: ç¨‹å¼ç¢¼æ ¼å¼åŒ–
- **Laravel Sail**: Docker é–‹ç™¼ç’°å¢ƒ

## ğŸ¯ è»Ÿé«”è¨­è¨ˆåŸå‰‡

### 1. å–®ä¸€è·è²¬åŸå‰‡ (Single Responsibility Principle)

**å¾Œç«¯å¯¦ä½œç¯„ä¾‹**:
```php
/**
 * é€²è²¨ç®¡ç†æœå‹™é¡åˆ¥
 * å°ˆé–€è™•ç†é€²è²¨ç›¸é—œçš„æ¥­å‹™é‚è¼¯
 */
class PurchaseService
{
    /**
     * å»ºç«‹æ–°çš„é€²è²¨å–®
     * å–®ä¸€è·è²¬ï¼šåƒ…è² è²¬é€²è²¨å–®çš„å»ºç«‹é‚è¼¯
     */
    public function createPurchase(PurchaseData $purchaseData)
    {
        // æ¥­å‹™é‚è¼¯å¯¦ä½œ...
    }
}
```

**å‰ç«¯å¯¦ä½œç¯„ä¾‹**:
```typescript
/**
 * å°ˆé–€è² è²¬ç”¢å“è³‡æ–™ç®¡ç†çš„è‡ªå®šç¾© Hook
 * å–®ä¸€è·è²¬ï¼šåƒ…è™•ç†ç”¢å“ç›¸é—œçš„ API æ“ä½œ
 */
export function useProducts() {
    return useQuery({
        queryKey: QUERY_KEYS.PRODUCTS,
        queryFn: async () => {
            // API èª¿ç”¨é‚è¼¯...
        },
    });
}
```

### 2. é–‹æ”¾å°é–‰åŸå‰‡ (Open-Closed Principle)

- **API ç‰ˆæœ¬æ§åˆ¶**: ä½¿ç”¨ `/api/` å‘½åç©ºé–“ï¼Œä¾¿æ–¼æ“´å……æ–°ç‰ˆæœ¬
- **å…ƒä»¶å¯æ“´å……æ€§**: ä½¿ç”¨ Radix UI ä½œç‚ºåŸºç¤ï¼Œå¯è¼•é¬†è‡ªå®šç¾©æ¨£å¼å’Œè¡Œç‚º

### 3. ä»‹é¢éš”é›¢åŸå‰‡ (Interface Segregation Principle)

**å‰ç«¯ä»‹é¢åˆ†é›¢**:
```typescript
// å°ˆé–€çš„æŸ¥è©¢éµå®šç¾©
export const QUERY_KEYS = {
    PRODUCTS: ['products'] as const,
    PRODUCT: (id: number) => ['products', id] as const,
} as const;
```

### 4. ä¾è³´åè½‰åŸå‰‡ (Dependency Inversion Principle)

- **å¾Œç«¯**: é€é Laravel çš„æœå‹™å®¹å™¨é€²è¡Œä¾è³´æ³¨å…¥
- **å‰ç«¯**: ä½¿ç”¨ React Context å’Œ Provider æ¨¡å¼ç®¡ç†ä¾è³´

## ğŸ›ï¸ è¨­è¨ˆæ¨¡å¼å¯¦ä½œ

### 1. Repository Pattern (å„²å­˜åº«æ¨¡å¼)

**Laravel Eloquent å¯¦ä½œ**:
```php
class ProductController extends Controller
{
    /**
     * ä½¿ç”¨ Eloquent ä½œç‚ºè³‡æ–™å­˜å–å±¤
     * æŠ½è±¡åŒ–è³‡æ–™åº«æ“ä½œé‚è¼¯
     */
    public function index()
    {
        return QueryBuilder::for(Product::class)
            ->allowedFilters(['name', 'sku'])
            ->allowedSorts(['name', 'selling_price', 'created_at'])
            ->paginate(15);
    }
}
```

### 2. Data Transfer Object Pattern (è³‡æ–™å‚³è¼¸ç‰©ä»¶æ¨¡å¼)

**ä½¿ç”¨ Spatie Laravel Data**:
```php
/**
 * ç”¢å“è³‡æ–™å‚³è¼¸ç‰©ä»¶
 * ç¢ºä¿è³‡æ–™çµæ§‹çš„ä¸€è‡´æ€§å’Œé¡å‹å®‰å…¨
 */
class ProductData extends Data
{
    public function __construct(
        public int $id,
        public string $name,
        public string $sku,
        public ?string $description,
        public float $selling_price,
        public float $cost_price,
    ) {}
}
```

### 3. Service Layer Pattern (æœå‹™å±¤æ¨¡å¼)

**æ¥­å‹™é‚è¼¯å°è£**:
```php
/**
 * é€²è²¨æœå‹™å±¤
 * å°è£è¤‡é›œçš„æ¥­å‹™é‚è¼¯ï¼Œç¢ºä¿è³‡æ–™ä¸€è‡´æ€§
 */
class PurchaseService
{
    public function createPurchase(PurchaseData $purchaseData)
    {
        return DB::transaction(function () use ($purchaseData) {
            // è¤‡é›œçš„æ¥­å‹™é‚è¼¯è™•ç†
            // 1. å»ºç«‹é€²è²¨å–®
            // 2. å»ºç«‹é€²è²¨é …ç›®
            // 3. æ›´æ–°åº«å­˜
        });
    }
}
```

### 4. Query Object Pattern (æŸ¥è©¢ç‰©ä»¶æ¨¡å¼)

**Spatie Query Builder å¯¦ä½œ**:
```php
QueryBuilder::for(Product::class)
    ->allowedFilters(['name', 'sku'])
    ->allowedSorts(['name', 'selling_price', 'created_at'])
    ->paginate(15);
```

### 5. Hook Pattern (React Hooks æ¨¡å¼)

**è‡ªå®šç¾© Hook å°è£**:
```typescript
/**
 * ç”¢å“ç®¡ç†ç›¸é—œçš„ Hook
 * å°è£è³‡æ–™ç²å–ã€è®Šæ›´å’Œå¿«å–é‚è¼¯
 */
export function useCreateProduct() {
    const queryClient = useQueryClient();
    
    return useMutation({
        mutationFn: async (productData) => {
            // API èª¿ç”¨é‚è¼¯
        },
        onSuccess: () => {
            // å¿«å–æ›´æ–°é‚è¼¯
            queryClient.invalidateQueries({ queryKey: QUERY_KEYS.PRODUCTS });
        },
    });
}
```

### 6. Provider Pattern (æä¾›è€…æ¨¡å¼)

**React Context å¯¦ä½œ**:
```typescript
/**
 * å…¨åŸŸç‹€æ…‹æä¾›è€…
 * ç®¡ç†ä¸»é¡Œã€æŸ¥è©¢å®¢æˆ¶ç«¯ç­‰æ‡‰ç”¨ç‹€æ…‹
 */
export default function RootLayout({ children }) {
    return (
        <ThemeProvider>
            <QueryProvider>
                <SidebarProvider>
                    {children}
                </SidebarProvider>
            </QueryProvider>
        </ThemeProvider>
    );
}
```

## ğŸ“Š è³‡æ–™åº«è¨­è¨ˆ

### æ ¸å¿ƒè³‡æ–™è¡¨çµæ§‹

```sql
-- å•†å“è¡¨
products
â”œâ”€â”€ id (PK)
â”œâ”€â”€ name
â”œâ”€â”€ sku (å”¯ä¸€)
â”œâ”€â”€ description
â”œâ”€â”€ selling_price
â”œâ”€â”€ cost_price
â””â”€â”€ timestamps

-- åº—é‹ªè¡¨
stores
â”œâ”€â”€ id (PK)
â”œâ”€â”€ name
â”œâ”€â”€ address
â””â”€â”€ timestamps

-- åº«å­˜è¡¨
inventories
â”œâ”€â”€ id (PK)
â”œâ”€â”€ store_id (FK)
â”œâ”€â”€ product_id (FK)
â”œâ”€â”€ quantity
â””â”€â”€ timestamps

-- é€²è²¨å–®è¡¨
purchases
â”œâ”€â”€ id (PK)
â”œâ”€â”€ store_id (FK)
â”œâ”€â”€ order_number
â”œâ”€â”€ purchased_at
â”œâ”€â”€ total_amount
â””â”€â”€ timestamps

-- é€²è²¨é …ç›®è¡¨
purchase_items
â”œâ”€â”€ id (PK)
â”œâ”€â”€ purchase_id (FK)
â”œâ”€â”€ product_id (FK)
â”œâ”€â”€ quantity
â”œâ”€â”€ unit_price
â””â”€â”€ timestamps
```

### è³‡æ–™é—œè¯è¨­è¨ˆ

- **ä¸€å°å¤šé—œè¯**: Store â†” Inventory, Purchase â†” PurchaseItem
- **å¤šå°å¤šé—œè¯**: Store â†” Product (é€é Inventory)
- **å¤–éµç´„æŸ**: ç¢ºä¿è³‡æ–™å®Œæ•´æ€§

## ğŸ”„ æ¥­å‹™æµç¨‹é‚è¼¯

### 1. é€²è²¨æµç¨‹

```mermaid
graph TD
    A[å‰µå»ºé€²è²¨å–®] --> B[é©—è­‰å•†å“è³‡è¨Š]
    B --> C[è¨ˆç®—ç¸½é‡‘é¡]
    C --> D[å»ºç«‹é€²è²¨è¨˜éŒ„]
    D --> E[å»ºç«‹é€²è²¨é …ç›®]
    E --> F[æ›´æ–°åº«å­˜æ•¸é‡]
    F --> G[äº¤æ˜“å®Œæˆ]
    
    B --> H[é©—è­‰å¤±æ•—]
    H --> I[è¿”å›éŒ¯èª¤]
```

### 2. åº«å­˜ç®¡ç†æµç¨‹

```mermaid
graph TD
    A[æŸ¥è©¢åº«å­˜] --> B[æª¢æŸ¥å•†å“å­˜åœ¨]
    B --> C[è¨ˆç®—å¯ç”¨æ•¸é‡]
    C --> D[é¡¯ç¤ºåº«å­˜è³‡è¨Š]
    
    E[é€²è²¨] --> F[å¢åŠ åº«å­˜]
    G[éŠ·å”®] --> H[æ¸›å°‘åº«å­˜]
    
    F --> I[æ›´æ–°åº«å­˜è¨˜éŒ„]
    H --> I
```

## ğŸ” å®‰å…¨æ€§è¨­è¨ˆ

### API å®‰å…¨
- **Laravel Sanctum**: API æ¬Šæ–èªè­‰
- **CORS è¨­å®š**: è·¨åŸŸè«‹æ±‚æ§åˆ¶
- **è¼¸å…¥é©—è­‰**: Request é¡åˆ¥é©—è­‰
- **SQL æ³¨å…¥é˜²è­·**: Eloquent ORM åƒæ•¸åŒ–æŸ¥è©¢

### å‰ç«¯å®‰å…¨
- **é¡å‹å®‰å…¨**: TypeScript ç·¨è­¯æ™‚æª¢æŸ¥
- **è¼¸å…¥é©—è­‰**: Zod åŸ·è¡Œæ™‚é©—è­‰
- **XSS é˜²è­·**: React è‡ªå‹•è·³è„«
- **HTTPS**: ç”Ÿç”¢ç’°å¢ƒå¼·åˆ¶ä½¿ç”¨

## ğŸ“ˆ æ•ˆèƒ½æœ€ä½³åŒ–

### å¾Œç«¯æ•ˆèƒ½
- **è³‡æ–™åº«ç´¢å¼•**: ä¸»éµã€å¤–éµã€æŸ¥è©¢æ¬„ä½
- **Eloquent æœ€ä½³åŒ–**: ä½¿ç”¨ `select()` é™åˆ¶æ¬„ä½
- **æŸ¥è©¢å¿«å–**: Laravel æŸ¥è©¢çµæœå¿«å–
- **åˆ†é è™•ç†**: é¿å…å¤§é‡è³‡æ–™è¼‰å…¥

### å‰ç«¯æ•ˆèƒ½
- **React Query å¿«å–**: ä¼ºæœå™¨ç‹€æ…‹æ™ºæ…§å¿«å–
- **æ‡¶åŠ è¼‰**: å‹•æ…‹å°å…¥éé—œéµå…ƒä»¶
- **åœ–ç‰‡æœ€ä½³åŒ–**: Next.js Image å…ƒä»¶
- **ç¨‹å¼ç¢¼åˆ†å‰²**: è‡ªå‹•ç¨‹å¼ç¢¼åˆ†å‰²
- **Tree Shaking**: ç§»é™¤æœªä½¿ç”¨çš„ç¨‹å¼ç¢¼

## ğŸ§ª æ¸¬è©¦ç­–ç•¥

### å¾Œç«¯æ¸¬è©¦
- **å–®å…ƒæ¸¬è©¦**: PHPUnit æ¸¬è©¦å€‹åˆ¥æ–¹æ³•
- **åŠŸèƒ½æ¸¬è©¦**: æ¸¬è©¦ API ç«¯é»
- **æ•´åˆæ¸¬è©¦**: æ¸¬è©¦æœå‹™é–“äº’å‹•

### å‰ç«¯æ¸¬è©¦
- **å…ƒä»¶æ¸¬è©¦**: æ¸¬è©¦ React å…ƒä»¶è¡Œç‚º
- **Hook æ¸¬è©¦**: æ¸¬è©¦è‡ªå®šç¾© Hook
- **E2E æ¸¬è©¦**: ç«¯åˆ°ç«¯ä½¿ç”¨è€…æµç¨‹æ¸¬è©¦

## ğŸ“± éŸ¿æ‡‰å¼è¨­è¨ˆ

### è¡Œå‹•å„ªå…ˆè¨­è¨ˆ
- **Tailwind CSS**: è¡Œå‹•å„ªå…ˆçš„æ–·é»ç³»çµ±
- **useIsMobile Hook**: è£ç½®æª¢æ¸¬
- **Drawer å…ƒä»¶**: è¡Œå‹•è£ç½®é©é…çš„å°è©±æ¡†
- **Touch å‹å–„**: è§¸æ§æ“ä½œæœ€ä½³åŒ–

### è·¨ç€è¦½å™¨æ”¯æ´
- **ç¾ä»£ç€è¦½å™¨**: Chromeã€Firefoxã€Safariã€Edge
- **å‘å¾Œç›¸å®¹**: é€é Babel å’Œ Polyfill
- **æ¼¸é€²å¼å¢å¼·**: åŸºç¤åŠŸèƒ½å„ªå…ˆ

## ğŸš€ éƒ¨ç½²èˆ‡ç¶­é‹

### é–‹ç™¼ç’°å¢ƒ
- **Next.js Dev Server**: ç†±é‡è¼‰é–‹ç™¼ä¼ºæœå™¨
- **API æ–‡æª”**: Scribe è‡ªå‹•ç”Ÿæˆæ–‡æª”

### ç”Ÿç”¢ç’°å¢ƒå»ºè­°
- **å®¹å™¨åŒ–éƒ¨ç½²**: Docker + Docker Compose
- **åå‘ä»£ç†**: Nginx
- **è³‡æ–™åº«**: MySQL 8.0+
- **æª”æ¡ˆå„²å­˜**: S3 ç›¸å®¹å„²å­˜
- **ç›£æ§**: Laravel Telescope + APM å·¥å…·

## ğŸ“š ç¨‹å¼ç¢¼å“è³ª

### ç¨‹å¼ç¢¼è¦ç¯„
- **PHP**: PSR-12 ç·¨ç¢¼æ¨™æº–
- **JavaScript/TypeScript**: ESLint + Prettier
- **CSS**: Tailwind CSS é¡åˆ¥æ’åº

### æ–‡æª”è¨»è§£
- **PHP DocBlock**: å®Œæ•´çš„æ–¹æ³•å’Œé¡åˆ¥æ–‡æª”
- **TypeScript JSDoc**: å‡½å¼å’Œä»‹é¢èªªæ˜
- **README**: å°ˆæ¡ˆè¨­å®šå’Œä½¿ç”¨èªªæ˜

### ç‰ˆæœ¬æ§åˆ¶
- **Git Flow**: åŠŸèƒ½åˆ†æ”¯é–‹ç™¼æµç¨‹
- **èªæ„åŒ–ç‰ˆæœ¬**: SemVer ç‰ˆæœ¬æ¨™è¨˜
- **Conventional Commits**: æ¨™æº–åŒ–æäº¤è¨Šæ¯

## ğŸ”® æœªä¾†æ“´å……è¦åŠƒ

### åŠŸèƒ½æ“´å……
- **å¤šèªè¨€æ”¯æ´**: i18n åœ‹éš›åŒ–
- **å³æ™‚é€šçŸ¥**: WebSocket æ¨é€
- **é€²éšå ±è¡¨**: æ›´è±å¯Œçš„è³‡æ–™åˆ†æ
- **è¡Œå‹•æ‡‰ç”¨**: React Native è·¨å¹³å°æ‡‰ç”¨

### æŠ€è¡“å‡ç´š
- **å¾®æœå‹™æ¶æ§‹**: æœå‹™æ‹†åˆ†å’Œç¨ç«‹éƒ¨ç½²
- **GraphQL**: æ›´éˆæ´»çš„ API æŸ¥è©¢
- **Redis**: é«˜æ•ˆèƒ½å¿«å–å’Œæœƒè©±å„²å­˜
- **Elasticsearch**: å…¨æ–‡æœå°‹åŠŸèƒ½

## ğŸ”§ é–‹ç™¼æµç¨‹èˆ‡å·¥å…·

### API æ–‡æª”ç”Ÿæˆæµç¨‹

ç‚ºäº†ç¢ºä¿å‰å¾Œç«¯ API å¥‘ç´„çš„ä¸€è‡´æ€§ï¼Œæˆ‘å€‘å»ºç«‹äº†æ¨™æº–åŒ–çš„æ–‡æª”ç”Ÿæˆæµç¨‹ï¼š

#### è‡ªå‹•åŒ–è…³æœ¬ï¼ˆæ¨è–¦ï¼‰
```bash
# åŸ·è¡Œä¸€éµç”Ÿæˆè…³æœ¬
cd inventory-api
./regenerate-api-docs.sh
```

#### æ‰‹å‹•æ­¥é©Ÿ
```bash
# 1. ç”Ÿæˆ Scribe API æ–‡æª”
./vendor/bin/sail artisan scribe:generate

# 2. è¤‡è£½åˆ°å‰ç«¯å°ˆæ¡ˆ
cp storage/app/private/scribe/openapi.yaml ../inventory-client/openapi.yaml

# 3. ç”Ÿæˆ TypeScript é¡å‹å®šç¾©
cd ../inventory-client && npm run api:types
```

### é–‹ç™¼æ³¨æ„äº‹é …

1. **å¥‘ç´„å„ªå…ˆé–‹ç™¼**: ä¿®æ”¹ API æ™‚å…ˆæ›´æ–° PHPDoc è¨»é‡‹
2. **æ—¥æœŸé¡å‹è¦ç¯„**: 
   - æ ¹æ“š Scribe å®˜æ–¹æ–‡æª”ï¼Œ`@bodyParam` å’Œ `@queryParam` åªæ”¯æ´ `string`ã€`integer`ã€`number`ã€`boolean`ã€`object` å’Œ `file` é¡å‹
   - **å»ºè­°çµ±ä¸€ä½¿ç”¨ `string` é¡å‹è¡¨ç¤ºæ—¥æœŸ**ï¼Œä¸¦åœ¨æè¿°ä¸­èªªæ˜æ ¼å¼
   - æ—¥æœŸæ ¼å¼ï¼š`string` é¡å‹ï¼Œèªªæ˜ `æ ¼å¼ï¼šY-m-d`
   - æ—¥æœŸæ™‚é–“æ ¼å¼ï¼š`string` é¡å‹ï¼Œèªªæ˜ `æ ¼å¼ï¼šY-m-d H:i:s`
3. **ç‰ˆæœ¬æ§åˆ¶**: ç”Ÿæˆçš„ `openapi.yaml` å’Œ `api.ts` æ‡‰è©²ç´å…¥ç‰ˆæœ¬æ§åˆ¶
4. **æ¸¬è©¦é©—è­‰**: æ›´æ–° API å¾ŒåŸ·è¡Œ `npm run build` ç¢ºèªç„¡é¡å‹éŒ¯èª¤

## API å¥‘ç´„åŒæ­¥

### å·¥ä½œæµç¨‹

1. **å¾Œç«¯è®Šæ›´**
   - ä¿®æ”¹ Controller çš„ PHPDoc è¨»è§£
   - æ›´æ–°å°æ‡‰çš„ Form Request é¡åˆ¥

2. **ç”Ÿæˆ API æ–‡æª”**
   ```bash
   cd inventory-api
   ./regenerate-api-docs.sh
   ```

3. **å‰ç«¯ä½¿ç”¨**
   - TypeScript é¡å‹æœƒè‡ªå‹•æ›´æ–°åˆ° `src/types/api.ts`
   - ä½¿ç”¨ apiClient é€²è¡Œé¡å‹å®‰å…¨çš„ API èª¿ç”¨

### é‡è¦æŠ€è¡“æ±ºç­–

#### é¡å‹æ¨™æº–åŒ– (2025-01-20)

ç¶“éæŠ€è¡“è©•ä¼°ï¼Œæˆ‘å€‘æ±ºå®šå°‡æ‰€æœ‰æ—¥æœŸç›¸é—œçš„ API åƒæ•¸æ¨™æº–åŒ–ç‚º `string` é¡å‹ï¼š

1. **èƒŒæ™¯**
   - åœ˜éšŠæ—©æœŸä½¿ç”¨äº† Scribe ä¸æ”¯æŒçš„é¡å‹ï¼ˆ`date`ã€`datetime`ã€`numeric`ï¼‰
   - é€™äº›éæ¨™æº–é¡å‹å°è‡´ openapi-typescript ç”ŸæˆéŒ¯èª¤çš„ TypeScript é¡å‹

2. **æŠ€è¡“åˆ†æ**
   - Scribe å®˜æ–¹åªæ”¯æŒï¼š`string`ã€`integer`ã€`number`ã€`boolean`ã€`object`ã€`file`
   - ä½¿ç”¨éæ¨™æº–é¡å‹ä¸æœƒå ±éŒ¯ï¼Œä½†æœƒç›´æ¥å‚³éåˆ° OpenAPI æ–‡æª”ä¸­
   - openapi-typescript ç„¡æ³•è­˜åˆ¥é€™äº›é¡å‹ï¼Œç”Ÿæˆ `Record<string, never>`

3. **æ±ºç­–å…§å®¹**
   - æ‰€æœ‰æ—¥æœŸé¡å‹çµ±ä¸€ä½¿ç”¨ `string`ï¼Œä¸¦åœ¨æè¿°ä¸­è¨»æ˜æ ¼å¼
   - ä¾‹å¦‚ï¼š`@queryParam start_date string èµ·å§‹æ—¥æœŸ (æ ¼å¼: Y-m-d). Example: 2025-01-01`
   - `numeric` é¡å‹æ”¹ç‚ºæ¨™æº–çš„ `number`

4. **å·²å®Œæˆçš„é·ç§»**
   - CustomerController: `date` â†’ `string`
   - ReportController: `date` â†’ `string`  
   - InventoryTransferController: `date` â†’ `string`
   - InventoryManagementController: `date` â†’ `string`
   - OrderController: `date`/`datetime` â†’ `string`, `numeric` â†’ `number`
   - InstallationController: å·²ä½¿ç”¨æ¨™æº– `string` é¡å‹

5. **é·ç§»å¾Œçš„æ•ˆæœ**
   - æ‰€æœ‰ TypeScript é¡å‹æ­£ç¢ºç”Ÿæˆ
   - ä¸å†éœ€è¦ fix-openapi-types.php è…³æœ¬ï¼ˆæ–°ä»£ç¢¼ï¼‰
   - å‰ç«¯ç·¨è­¯ç„¡éŒ¯èª¤